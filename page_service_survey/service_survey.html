<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.98.0">

    <title>Service Survey</title>
    <link href="../resource/css/bootstrap.min.css" rel="stylesheet">
    <link href="../resource/css/service_survey_custom.css" rel="stylesheet"> 
    <script src="../resource/js/jquery.js"></script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
    <div class="container container-sm">
        <div class="row text-center">
            <h4 class="mb-3 fw-bold">Service Survey</h4>
        </div>
        <div class="m-2 row level text-center mb-3">
            <div class="lead mb-3">How was your experience at the clinic today</div>
            <div class="lead mb-3"></div>
            <div class="selectlevel d-flex justify-content-center mb-3">
                <div class="circle-border btn btn-top" name="btn-top" onclick="btntop(this)">1</div>
                <div class="circle-border btn btn-top" name="btn-top" onclick="btntop(this)">2</div>
                <div class="circle-border btn btn-top" name="btn-top" onclick="btntop(this)">3</div>
                <div class="circle-border btn btn-top" name="btn-top" onclick="btntop(this)">4</div>
                <div class="circle-border btn btn-top" name="btn-top" onclick="btntop(this)">5</div>
                <div class="circle-border btn btn-top" name="btn-top" onclick="btntop(this)">6</div>
            </div>
        </div>
        <div class="downside-block row justify-content-center mt-4">
            <div class="col-xs-4 downside text-center">Lack of professionalism</div>
            <div class="col-xs-4 downside text-center">Inadequate teim with a doctor</div>
            <div class="col-xs-4 downside text-center">Hygiene improvement</div>
            <div class="col-xs-4 downside text-center">Location inconvenient</div>
            <div class="col-xs-4 downside text-center">Waiting too long</div>
            <div class="col-xs-4 downside free-text text-center text-danger">Free text</div>
        </div>
        <div class="row textbox m-2">
            <div class="col-xs-12 text-danger text-start">Please share your thoughts with us</div>
            <textarea class="col-xs-12 textbox-area form-control" placeholder="type here"></textarea>
        </div>
        <div class="row mt-4">
            <div class="col-3"></div>
            <div class="col-6">
                <button class="btn btn-danger btn-lg w-100">Submit</button>    
            </div>
            <div class="col-3"></div>
        </div>
    </div>

<script>
$(".downside").click(
  function(){   
    $(this).toggleClass("downsideborder");
  }
);

function btntop(obj){
  $("div[name='btn-top']").removeClass("background");
  $(obj).toggleClass("background");
}
</script>

    <script>
      $(document).ready(function () {
        var user
        liff.init({
          liffId: '1657203656-mBKPQ3pB'
        })
          .then(async function () {
            // alert('LIFF init')
            if (!liff.isLoggedIn()) {
              // liff.logout()
              liff.login()
            }
            const accessToken = liff.getAccessToken();
            console.log("getAccessToken", accessToken);
  
            await liff.getProfile()
              .then(data => {
                user = data
                console.log('data', data)
              })
              .catch(function (error) {
                console.log('get profile error', JSON.stringify(error));
              });
            console.log('here go go')
  
            // 比對 url 跟 useId
            // const urlId = window.location.href.split('?id=')[1]
            // if (user.userId !== urlId) {
            //   alert('Only user self can access this through line')
            //   liff.closeWindow()     
            // }
  
          }).catch(function (error) {
            console.log('init error', JSON.stringify(error));
          });
      })
    </script>
</body>
</html>